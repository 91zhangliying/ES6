<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<script>
// 数组取索引赋值
let ary = [1, 2, 3, 4];
let a = ary[0];
let b = ary[1];
let c = ary[2];
let d = ary[3];
console.log(a, b, c, d); // 1 2 3 4

// 结构赋值
let ary2 = [1, 2, 3, 4];
[a, b, c, d] = ary2;
console.log(a, b, c, d); //1 2 3 4

// 结构需要的值，不需要逗号分隔
let ary1 = [1, 2, 3, 4];
// w f 对应 1, 4
let [w, , , f] = ary1;
console.log(w, f); //1 4

// 不结构第三方变量，x  y  换值
let x = 10,
y = 20;
[x, y] = [y, x];
console.log(x, y); //20 10

// 不让c d等于undefined 等于0
let ary4 = [6, 7];
let [z, u, g, h] = ary4;
console.log(z, u, g, h); //6 7 undefined undefined

//你传给我我就用你的，不传给我，我就用赋的默认值
let ary5 = [6, 7];
let [q = 0, p = 0, o = 0, i = 0] = ary5;
console.log(q, p, o, i); //6 7 0 0

//给形参赋默认值
function fn(p1 = 0, p2 = 0, p3 = 0) {
console.log(p1, p2, p3); //1 2 0
}
fn(1, 2);

// 对象的结构赋值
// 1、sex:0 没有接收，所以就不要
// 2、age1=0,设置默认值
var obj = { name: "jack", age: 18, sex: 0 };
const { name, age, age1 } = obj; //把属性名转成变量，根据属性名
console.log(name, age, age1); //jack 18 undefined

//换名字操作 不常见
var obj = { name: "jack", age: 18, sex: 0 };
var { name: n } = obj;
console.log(n, name); //'jack' undefined

let ary=[10,20,30,40];    
let [n,m,...x]=ary
console.log(x);//[30,40]

let ary1=[12,[20,23,[40,50,58]]]
let [e,[,,[,,r]]]=ary1
console.log(e,r);//12,58

    let obj={
        name:'json',
        age:79,
        sex:"BOY",
        friends:['jack','friend','pack']
    }
    let {name,age,sex}=obj       
    console.log(name,age,sex)//'json' 79 'BOY'


    // 冒号相当于给获取的解构设置了一个别名(变量名):创建了一个叫做nianling的变量存储了obj.age的值
    let obj1={age:80}
    let {age:nianling}=obj1
    console.log(nianling);//80

    // 给获取的结果设置默认值(没有这个值，走默认值)
    let {height="180CM"}=obj
    console.log(height);//180CM

    // 多维运算获取
    let obj3={
        names:"名称",
        friends:['jack',"jason","pack"]
    }
    let {names,friends:[firstFirend]}=obj3
    console.log(names,firstFirend);

    // 后台数据解构
    let data={
        "code":0,
        "data":{
            "today":"2019-09-09",
            "data":[{
                "data":"2019-07-17",
                "number":"17",
                "weekday":"\u661f\u671f\u4e09"
            },{
                "data":"2019-07-18",
                "number":"1",
                "weekday":"\u661f\u671f\u56db"
            }]
        },
        "version":"12893-449"
    }

    // 方法一:
    // let code=data.code,
    // today=data.data.today,
    // data=data.data.data;

    // 方法二:
    let {code,data:{today,data:calenderData}}=data;
    console.log(code,today,calenderData)

    // 方法三:
    /*  calenderData.forEach(item=>{
        // let weekday=item.weekday,
        // data=item.data;
        let {weekday,data}=item
        console.log(weekday,data);
    }) */

    calenderData.forEach(({weekday,data})=>{
        console.log(weekday,data,`00`);
    })


    // ES6中 ...的作用
    // 扩展运算符(多用在解构赋值中)
    // 展开运算符(多用在传递实参中)
    // 剩余运算符(多用在接收实参中)

    // 解构赋值
    let [n,...m]=[12,34,56]
    // console.log(n,m);//n:12,m:[34,56]

    // 传递实参
    let ary=[12,34,56,78];
    let min=Math.min(...ary)

    // let cloneAry=ary.slice(0)
    // 数组克隆(浅克隆)
    let cloneAry=[...ary]
    console.log(cloneAry);

    // 对象克隆(浅克隆)
    let obj={
        name:"jack",
        age:14
    }
    let cloneObj={...obj,sex:"girl",age:10}
    console.log(cloneObj);

    // 接收实参
    let fn=(n,...arg)=>{
        console.log(n,arg);//n:10,ary:[20,30]
    }
    fn(10,20,30)

    function fn(...arr){
  //剩余运算符
  console.log(arr);
 }
 Math.max(...[1,2,3,4,2,3])//展开运算符//4

//数组展开运算符应用
 var a=[1,2,30],
 b=[3,4,5,6];
 var c=[...a,...b];
 console.log(c);// [1, 2, 30, 3, 4, 5, 6]

//对象中的应用
 var obj1={a:1,a:2,c:3}
 obj2={q:100,w:200,C:300}
 console.log(obj1,obj2)//{a: 2, c: 3} {q: 100, w: 200, C: 300}

 var obj3={...obj1,...obj2}; 
 var obj4={...obj2,...obj1};
 console.log(obj3,obj4)//{a: 2, c: 3, q: 100, w: 200, C: 300} 
                       //{q: 100, w: 200, C: 300, a: 2, c: 3}
</script>
</body>
</html>