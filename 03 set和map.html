<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // set map 是两种存储结构

      // set 集合 不能重复的东西,放了就白放了
      // let s=new Set([1,2,3,4,5,6])
      // console.log(typeof s);//基础类型 string number boolean undefined object symbol
      // s.add('5')
      // s.delete('5')
      // console.log(s.values())
      // console.log(Object.values(s))
      /*  s.forEach(item=>{
      console.log(item);
    }) */

      // promise symbol.iterator
      // let arr=[...s]
      // console.log(arr)

      let s01 = [1, 2, 3, 1, 2, 9];
      let s02 = [4, 5, 6, 1, 2];
      // 集合  并集
      function union() {
        let s1 = new Set(s01);
        let s2 = new Set(s02);
        console.log([...new Set([...s1, ...s2])]); //[1, 2, 3, 9, 4, 5, 6]
      }
      union();

      // 交集
      function intersection() {
        return [...new Set(s01)].filter(function (item) {
          return new Set(s02).has(item);
        });
      }
      console.log(intersection()); // [1, 2]

      // 差集
      function diff() {
        return [...new Set(s01)].filter(function (item) {
          return !new Set(s02).has(item);
        });
      }
      console.log(diff()); //[3, 9]

      // map是有key的 不能放重复的
    /*   let m = new Map();
      m.set("name", "jsck");
      m.set("name", "123");
      let obj = { name: 1 };
      m.set(obj, "456");//这个obj引用的空间被set所引用
      obj = null;//把obj清空，这个空间还是在的
      console.log(m) */

      //  WeakMap 
      let m = new WeakMap();// WeakMap 的key 必须是对象类型
      // m.set("name", "jsck");
      // m.set("name", "123");
      let obj = { name: 1 };
      m.set(obj,'123')
      // m.set(obj, "456");//这个obj引用的空间被set所引用
      // obj = null;//把obj清空，这个空间还是在的
      console.log(m)
      // v8引擎的垃圾回收

    </script>
  </body>
</html>
