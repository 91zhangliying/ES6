<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // 装饰器可以修饰类 类的属性 类的原型上的方法
  
    // 修饰的时候  就是把这个类 属性 ... 传递给修饰的函数
    // @flag 
    // @connect @whitch
    class Animal{
      // @readonly
      PI=3.14
      name="xxx" //实例上的属性，并不是原型上的属性
      say(){
        console.log(`说话`,a,d,c,this);
      }
    }
    // 1)类的静态属性
    // function flag(consructor){
    //   consructor.type="哺乳类"
    // }
    // console.log(Animal.type)

    // 2)类的属性(实例上的属性)
    function readonly (target,property){
      descriptor.writable=false;
      setTimeout(()=>{
        console.log(target==Animal.prototype)//类的原型
      })
      console.log(target==Animal.prototype)
    }
    let animal=new Animal()
    animal.PI=3.15

    function before(target,property,descripor){
      console.log(target)
       let oldSay=descriptor.value
       descriptor.value=function(){
         console.log('before')
         oldSay.call(target,...arguments)
       }
    }
    animal.say(1,2,3)
  </script>
</body>
</html>